<header class="bg-gradient-purple text-white" [hidden]="isLoadingAddTrainer">
    <div class="p-6 flex items-center gap-5">
        <div
            class="flex items-end dark:text-gray-500"
            [routerLink]="['/admin']"
        >
            <span class="fas fa-chevron-left"></span>
        </div>

        <div class=""></div>
        <div class="font-medium text-lg">Create Trainer</div>
        <div class=""></div>
    </div>
</header>

<div class="animate__animated animate__fadeIn" [hidden]="isLoadingAddTrainer">
    <section class="mx-4 py-7">
        <form [formGroup]="addTrainerForm" (ngSubmit)="showData()">
            <div class="gap-2 grid dark:text-custom-light">
                <p class="font-medium text-lg">Trainer First Name</p>

                <mat-form-field class="w-full" appearance="outline">
                    <mat-label>First Name</mat-label>
                    <input
                        matInput
                        formControlName="firstName"
                        placeholder="Jonh"
                    />
                </mat-form-field>

                <p class="font-medium text-lg">Trainer First Last Name</p>

                <mat-form-field class="w-full" appearance="outline">
                    <mat-label>First Last Name</mat-label>
                    <input
                        matInput
                        formControlName="firstLastName"
                        placeholder="Doe"
                    />
                </mat-form-field>

                <p class="font-medium text-lg">Trainer Second Last Name</p>

                <mat-form-field class="w-full" appearance="outline">
                    <mat-label>Second Last Name</mat-label>
                    <input
                        matInput
                        formControlName="secondLastName"
                        placeholder="Doe"
                    />
                </mat-form-field>

                <p class="font-medium text-lg">Trainer Email</p>
                <mat-form-field
                    appearance="outline"
                    class="text-base mt-6 w-80 h-16"
                >
                    <mat-icon matPrefix class="material-icons md-18 ml-4"
                        >mail</mat-icon
                    >
                    <mat-label>Email</mat-label>
                    <input
                        matInput
                        type="email"
                        formControlName="email"
                        placeholder="your email@gmail.com"
                    />
                </mat-form-field>

                @if (isValidField("email")) {
                    @if (
                        validatorService
                            .getFieldError(addTrainerForm, "email")
                            .hasValue()
                    ) {
                        @if (
                            validatorService
                                .getFieldError(addTrainerForm, "email")
                                .getValue() === "Invalid pattern"
                        ) {
                            <mat-error
                                class="bg-custom-dark-purple border border-red-400 rounded input-error font-bold relative"
                                >{{
                                    validatorService.emailPatternMessage
                                }}</mat-error
                            >
                        } @else {
                            <mat-error
                                class="bg-custom-dark-purple border border-red-400 rounded input-error font-bold relative"
                                >{{
                                    validatorService
                                        .getFieldError(addTrainerForm, "name")
                                        .getValue()
                                }}</mat-error
                            >
                        }
                    }
                }

                <p class="font-medium text-lg">Trainer Phone</p>
                <mat-form-field
                    appearance="outline"
                    class="text-base mt-6 w-80 h-16"
                >
                    <mat-label>Phone</mat-label>
                    <input
                        matInput
                        type="tel"
                        formControlName="phone"
                        placeholder="0414240808"
                    />
                </mat-form-field>

                @if (isValidField("phone")) {
                    @if (
                        validatorService
                            .getFieldError(addTrainerForm, "phone")
                            .hasValue()
                    ) {
                        @if (
                            validatorService
                                .getFieldError(addTrainerForm, "phone")
                                .getValue() === "Invalid pattern"
                        ) {
                            <mat-error
                                class="bg-custom-dark-purple border border-red-400 rounded input-error font-bold relative"
                                >{{
                                    validatorService.phoneNumberPatternMessage
                                }}</mat-error
                            >
                        } @else {
                            <mat-error
                                class="bg-custom-dark-purple border border-red-400 rounded input-error font-bold relative"
                                >{{
                                    validatorService
                                        .getFieldError(addTrainerForm, "name")
                                        .getValue()
                                }}</mat-error
                            >
                        }
                    }
                }
            </div>
            <div class="mx-3 py-3"></div>

            <div class="w-full flex justify-center gap-3">
                <button
                    [routerLink]="['/admin']"
                    class="btn w-1/2 h-16 lg:w-36 align-middle dark:bg-custom-light text-custom-light dark:text-custom-dark-purple rounded-[50px]"
                    [ngClass]="{
                        'bg-custom-gradient-purple':
                            !darkModeService.isDarkMode(),
                    }"
                >
                    Cancelar
                </button>

                <button
                    (submit)="showData()"
                    class="btn w-1/2 h-16 lg:w-36 align-middle dark:bg-custom-light text-custom-light dark:text-custom-dark-purple rounded-[50px]"
                    [ngClass]="{
                        'bg-custom-gradient-purple':
                            !darkModeService.isDarkMode(),
                    }"
                >
                    Confirmar
                </button>
            </div>
        </form>

        <div class="mx-2 py-2"></div>
    </section>
</div>

@if (isLoadingAddTrainer) {
    <app-loader></app-loader>
}
